{% load svg_tags %}
{% load cache %}

<div class="v-app__header-left d-flex mr-sm-2 mr-md-3">
    {% cache 3600 header_logo store.id %}
        {% comment %} ------------- лого --------------- {% endcomment %}
        <a href="{{ homepage_url }}" data-id="header-logo"
            class="header__logo d-sm-flex shrink router-link-exact-active router-link-active mr-1"
            aria-current="page" aria-label="Домашняя страница">
            {% icon file_name='header/logo' size=45%}        
        </a>
        {% if stores_select %}
            <button onclick="openStoreModal()" class="store_select text-left d-flex flex-column checked">
                {% if store %}
                    <span class="header_store">{{ store }}</span>
                    {% if store.primary_address %}
                        <span class="header_address">{{ store.primary_address }}</span>
                    {% endif %}
                {% endif %}
            </button>
        {% endif %}
    {% endcache %}
</div>
<div class="v-app__header-right d-flex">
    {% cache 3600 header_right %}
        {% comment %} ------------- Поиск --------------- {% endcomment %}
        <a href="{% url 'search:search-page' %}" data-id="nav-search-icon-button" class="v-app-header__button d-flex flex-column mr-4 align-center">
            <span class="v-app-header__button-picture">  
                {% icon file_name='header/search' size=26 fill='#111'%}
            </span>
            Поиск
        </a>
        {% comment %} ------------- Доставка --------------- {% endcomment %}
        <a href="{% url 'address:delivery-address' %}" data-id="address-button" class="v-app-header__button d-flex flex-column mr-4 align-center">
            <span class="v-app-header__button-picture">  
                {% icon file_name='map/delivery' size=26 stroke='#111'%}
            </span>
            Доставка
        </a>
        {% comment %} ------------- акции --------------- {% endcomment %}
        <a href="{% url 'home:actions' %}" data-id="header-actions-button" class="v-app-header__button d-flex flex-column mr-4 align-center">
            <span class="v-app-header__button-picture">
                {% icon file_name='app_mobile_sticker/actions' size=26 stroke='#111'%}
            </span>
            Акции
        </a>
    {% endcache %}

    {% comment %} ------------- профиль --------------- {% endcomment %}
    {% if user.is_authenticated %}
        <a data-id="header-profile-btn" class="v-app-header__button d-flex flex-column align-center pos-relative" href="{% url 'customer:summary' %}">
            <span class="v-app-header__button-picture">
                {% icon file_name='app_mobile_sticker/profile' size=26 stroke='#111'%}
            </span>
            <span data-id="notifications-nums" class="badge d-flex justify-center align-center" style="right: 0.5rem;">{{ num_unread_notifications }}</span>
            Профиль
        </a>
    {% else %}
        <button data-id="header-profile-btn" class="v-app-header__button d-flex flex-column align-center" onclick="openAuthModal()">
            <span class="v-app-header__button-picture">
                {% icon file_name='app_mobile_sticker/profile' size=26 stroke='#111'%}
            </span>
            Войти
        </button>
    {% endif %}
</div>